# Software Information

Our robot dog operates on Raspberry Pi with the ROS system implemented inside. For code modifications and daily software maintenance, connection with a laptop or PC is necessary. The default connection method is direct connection mode, which the computer is connected to the robot dog via hotspot signal generated by the robot dog. Such connection method is considered as one of the fastest and most efficient. This Readme will demonstrate how to establish such connection alongside with some basic commands of the robot. 

# 

**Hardware Preparation**

A laptop or a PC that supports 5G frequency band si necessary. If the 5G frequency band is not supported, the hotspot launched by the Raspberry Pi may not be detacted and therefore causes possible failures in connections. 
If modifications of frequency band is necessary, please see  document named [Frequency Band Modification](https://drive.google.com/drive/folders/1GD__5xuZk4O3mtA4BLRECDd8F9Z3My8E) provided by Hiwonder. 


**VNC Viewer Installation**

VNC Viewer is a graphic remote control software that is compatible with the robot dog. With VNC, we can directly access the Raspberry Pi on personal computer through the hotspot generated by the Puppy Pi. 

For Windows installation of the VNC Viewer, please download the document [here](https://drive.google.com/file/d/11sKy2Hfr73Ogibdv9UpjCGfhcvdci4lk/view).

Follow the prompt of the VNC Viewer Setup, proceed all steps with default settings. When the prompt below is shown, it marks a successful installation and an icon of VNC viewer should be present.

<img src="https://github.com/PicassoEEA/legged_robot/blob/main/Software_Info/VNC_1.png" width=50% height=50%>

#

**Boot Up Puppy Pi**

Flip the switch on the robot dog into the on position.  The LED1 on the extension board of Raspberry Pi will light up and LED2 will flash continuously. When the robot dog finishes initialization, the buzzer will beep once, and the robot dog will return to initial posture signaling that the robot is ready for connection.  

The default network mode for the robot is AP Direct Connection. After initialization, the Raspberry Pi should launch a Wifi hotspot with the naming format of “HW-xxxxxxxx” as shown in the screenshot below:

<img src="https://github.com/PicassoEEA/legged_robot/blob/main/Software_Info/VNC_2.png" width=70% height=70%>

#

**VNC Viewer Connection**

After the installation of VNC Viewer, we can add the robot to the viewer by entering the default IP address of the Raspberry Pi: 192.168.149.1. 

<img src="https://github.com/PicassoEEA/legged_robot/blob/main/Software_Info/VNC_3.png" width=100% height=100%>

Then the VNC Viewer will prompt for authentication information, the Username is “pi” and the password is “raspberry”.

<img src="https://github.com/PicassoEEA/legged_robot/blob/main/Software_Info/VNC_4.png" width=50% height=50%>

After authentication, the Desktop interface of the Raspberry Pi will be displayed. Ignore the  pop-up warning message by clicking “OK”.

<img src="https://github.com/PicassoEEA/legged_robot/blob/main/Software_Info/VNC_5.png" width=50% height=50%>

Once the connection with the VNC Viewer is successful, the Raspberry Pi desktop will be displayed as the screenshot shown below.

<img src="https://github.com/PicassoEEA/legged_robot/blob/main/Software_Info/Pi_UI.png" width=70% height=70%>

# 

**Functions and Basic Commands**
Functioins are directories are listed below:

| Directory          | Function                                                    |
| ------------------ | ----------------------------------------------------------- |
| puppy_pi           |All source codes of functions, programs, and modified modules|
| PuppyPi_PC_Software| Source code of PC software                                  |
| hiwonder-toolbox   | Wi-Fi management tool                                       |

Functions can be called and tested upon open command line terminal with the icon: 

All testable functions are stored under `puppy_pi/src` and should be accessed by entering:
```
pi@raspberrypi:~ $ cd puppy_pi/src/
```

In order to run an individual script, the format for running should be `rosrun type_of_function  function_name.py`. 
For instance, when running the QR code recognition function, the command should be:
```
pi@raspberrypi:~ $ rosrun puppy_standard_functions apriltag_detect_demo.py
```



